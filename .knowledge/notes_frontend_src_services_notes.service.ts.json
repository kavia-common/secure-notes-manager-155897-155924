{"is_source_file": true, "format": "TypeScript", "description": "This file contains service functions for managing notes, including CRUD operations and category retrieval, interacting with local storage via imported utility functions.", "external_files": ["./storage"], "external_methods": ["getJSON", "setJSON"], "published": ["getNotes", "createNote", "updateNote", "deleteNote", "getCategories"], "classes": [], "methods": [{"name": "export async function getNotes(userId: string): Promise<Note[]> { getNotes", "description": "Retrieves all notes belonging to a specific user, sorted by the most recently updated.", "scope": "", "scopeKind": ""}, {"name": "export async function createNote(userId: string, payload?: Partial<Pick<Note, 'title' | 'content/ createNote", "description": "Creates a new note for a user with optional initial fields, generating a UUID and timestamps.", "scope": "", "scopeKind": ""}, {"name": "export async function updateNote(userId: string, id: string, updates: Partial<Omit<Note, 'id' | / updateNote", "description": "Updates an existing note with new data; throws an error if the note is not found.", "scope": "", "scopeKind": ""}, {"name": "export async function deleteNote(userId: string, id: string): Promise<void> { deleteNote", "description": "Deletes a note by ID for a specified user.", "scope": "", "scopeKind": ""}, {"name": "export async function getCategories(userId: string): Promise<string[]> { getCategories", "description": "Gathers unique categories from user notes, always including 'All' and 'General'.", "scope": "", "scopeKind": ""}], "calls": ["getJSON<Note[]>(NOTES_KEY, [])", "setJSON(NOTES_KEY, notes)", "getJSON<Note[]>(NOTES_KEY, [])", "setJSON(NOTES_KEY, notes)", "getJSON<Note[]>(NOTES_KEY, [])", "setJSON(NOTES_KEY, filtered)", "getNotes(userId)"], "search-terms": ["notes_service", "CRUD notes", "localStorage", "notes management"], "state": 2, "file_id": 22, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "NOTES_KEY", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^const NOTES_KEY = 'notes'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "all", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const all = getJSON<Note[]>(NOTES_KEY, [])$/", "language": "TypeScript", "kind": "constant", "scope": "getNotes", "scopeKind": "function"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^export async function createNote(userId: string, payload?: Partial<Pick<Note, 'title' | 'content/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^export async function deleteNote(userId: string, id: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "filtered", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const filtered = notes.filter(n => !(n.id === id && n.userId === userId))$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "getCategories", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^export async function getCategories(userId: string): Promise<string[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getNotes", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^export async function getNotes(userId: string): Promise<Note[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^    ...notes[idx],$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const idx = notes.findIndex(n => n.id === id && n.userId === userId)$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  notes[idx] = updated$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const note: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const notes = await getNotes(userId)$/", "language": "TypeScript", "kind": "constant", "scope": "getCategories", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const notes = getJSON<Note[]>(NOTES_KEY, [])$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const notes = getJSON<Note[]>(NOTES_KEY, [])$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const notes = getJSON<Note[]>(NOTES_KEY, [])$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  notes.push(note)$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  notes[idx] = updated$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const now = Date.now()$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "set", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const set = new Set<string>(['General'])$/", "language": "TypeScript", "kind": "constant", "scope": "getCategories", "scopeKind": "function"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^export async function updateNote(userId: string, id: string, updates: Partial<Omit<Note, 'id' | /", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^  const updated: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/secure-notes-manager-155897-155924/notes_frontend/src/services/notes.service.ts", "pattern": "/^    updatedAt: Date.now(),$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}], "hash": "9932fc4f6704adc0c5431faf089cb700", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/services/notes.service.ts", "revision_history": [{"49": ""}]}